
// START MONDAY
if ($('#radioMondayWhole').is(':checked')) {
    $("#Monday_val").val('8');
    showanswer()
}
if ($('#radioMondayHalfAm').is(':checked')) {
    $("#Monday_val").val('4');
    showanswer()
}
if ($('#radioMondayHalfPm').is(':checked')) {
    $("#Monday_val").val('4');
    showanswer()
}
if ($('#radioMondayNoWork').is(':checked')) {
    $("#Monday_val").val('0');
    showanswer()
}

$('#radioMondayWhole').on('change', function () {
    var MondayValue = 8;
    $("#Monday_val").val(MondayValue);
    showanswer()
})
$('#radioMondayHalfAm').on('change', function () {
    var MondayValue = 4;
    $("#Monday_val").val(MondayValue);
    showanswer()
})
$('#radioMondayHalfPm').on('change', function () {
    var MondayValue = 4;
    $("#Monday_val").val(MondayValue);
    showanswer()
})
$('#radioMondayNoWork').on('change', function () {
    var MondayValue = 0;
    $("#Monday_val").val(MondayValue);
    showanswer()
})
// END MONDAY

// START TUESDAY
if ($('#radioTuesdayWhole').is(':checked')) {
    $("#Tuesday_val").val('8');
    showanswer()
}
if ($('#radioTuesdayHalfAm').is(':checked')) {
    $("#Tuesday_val").val('4');
    showanswer()
}
if ($('#radioTuesdayHalPm').is(':checked')) {
    $("#Tuesday_val").val('4');
    showanswer()
}
if ($('#radioTuesdayNoWork').is(':checked')) {
    $("#Tuesday_val").val('0');
    showanswer()
}

$('#radioTuesdayWhole').on('change', function () {
    var TuesdayValue = 8;
    $("#Tuesday_val").val(TuesdayValue);
    showanswer()
})
$('#radioTuesdayHalfAm').on('change', function () {
    var TuesdayValue = 4;
    $("#Tuesday_val").val(TuesdayValue);
    showanswer()
})
$('#radioTuesdayHalPm').on('change', function () {
    var TuesdayValue = 4;
    $("#Tuesday_val").val(TuesdayValue);
    showanswer()
})
$('#radioTuesdayNoWork').on('change', function () {
    var TuesdayValue = 0;
    $("#Tuesday_val").val(TuesdayValue);
    showanswer()
})
// END TUESDAY

// START WEDNESDAY
if ($('#radioWednesdayWhole').is(':checked')) {
    $("#Wednesday_val").val('8');
    showanswer()
}
if ($('#radioWednesdayHalfAm').is(':checked')) {
    $("#Wednesday_val").val('4');
    showanswer()
}
if ($('#radioWednesdayHalPm').is(':checked')) {
    $("#Wednesday_val").val('4');
    showanswer()
}
if ($('#radioWednesdayNoWork').is(':checked')) {
    $("#Wednesday_val").val('0');
    showanswer()
}

$('#radioWednesdayWhole').on('change', function () {
    var WednesdayValue = 8;
    $("#Wednesday_val").val(WednesdayValue);
    showanswer()
})
$('#radioWednesdayHalfAm').on('change', function () {
    var WednesdayValue = 4;
    $("#Wednesday_val").val(WednesdayValue);
    showanswer()
})
$('#radioWednesdayHalPm').on('change', function () {
    var WednesdayValue = 4;
    $("#Wednesday_val").val(WednesdayValue);
    showanswer()
})
$('#radioWednesdayNoWork').on('change', function () {
    var WednesdayValue = 0;
    $("#Wednesday_val").val(WednesdayValue);
    showanswer()
})
// END WEDNESDAY

// START THURSDAY
if ($('#radioThursdayWhole').is(':checked')) {
    $("#Thursday_val").val('8');
    showanswer()
}
if ($('#radioThursdayHalfAm').is(':checked')) {
    $("#Thursday_val").val('4');
    showanswer()
}
if ($('#radioThursdayHalPm').is(':checked')) {
    $("#Thursday_val").val('4');
    showanswer()
}
if ($('#radioThursdayNoWork').is(':checked')) {
    $("#Thursday_val").val('0');
    showanswer()
}

$('#radioThursdayWhole').on('change', function () {
    var ThursdayValue = 8;
    $("#Thursday_val").val(ThursdayValue);
    showanswer()
})
$('#radioThursdayHalfAm').on('change', function () {
    var ThursdayValue = 4;
    $("#Thursday_val").val(ThursdayValue);
    showanswer()
})
$('#radioThursdayHalPm').on('change', function () {
    var ThursdayValue = 4;
    $("#Thursday_val").val(ThursdayValue);
    showanswer()
})
$('#radioThursdayNoWork').on('change', function () {
    var ThursdayValue = 0;
    $("#Thursday_val").val(ThursdayValue);
    showanswer()
})
// END THURSDAY

// START FRIDAY
if ($('#radioFridayWhole').is(':checked')) {
    $("#Friday_val").val('8');
    showanswer()
}
if ($('#radioFridayHalfAm').is(':checked')) {
    $("#Friday_val").val('4');
    showanswer()
}
if ($('#radioFridayHalPm').is(':checked')) {
    $("#Friday_val").val('4');
    showanswer()
}
if ($('#radioFridayNoWork').is(':checked')) {
    $("#Friday_val").val('0');
    showanswer()
}

$('#radioFridayWhole').on('change', function () {
    var FridayValue = 8;
    $("#Friday_val").val(FridayValue);
    showanswer()
})
$('#radioFridayHalfAm').on('change', function () {
    var FridayValue = 4;
    $("#Friday_val").val(FridayValue);
    showanswer()
})
$('#radioFridayHalPm').on('change', function () {
    var FridayValue = 4;
    $("#Friday_val").val(FridayValue);
    showanswer()
})
$('#radioFridayNoWork').on('change', function () {
    var FridayValue = 0;
    $("#Friday_val").val(FridayValue);
    showanswer()
})
// END FRIDAY

// START SATURDAY
if ($('#radioSaturdayWhole').is(':checked')) {
    $("#Saturday_val").val('8');
    showanswer()
}
if ($('#radioSaturdayHalfAm').is(':checked')) {
    $("#Saturday_val").val('4');
    showanswer()
}
if ($('#radioSaturdayHalPm').is(':checked')) {
    $("#Saturday_val").val('4');
    showanswer()
}
if ($('#radioSaturdayNoWork').is(':checked')) {
    $("#Saturday_val").val('0');
    showanswer()
}

$('#radioSaturdayWhole').on('change', function () {
    var SaturdayValue = 8;
    $("#Saturday_val").val(SaturdayValue);
    showanswer()
})
$('#radioSaturdayHalfAm').on('change', function () {
    var SaturdayValue = 4;
    $("#Saturday_val").val(SaturdayValue);
    showanswer()
})
$('#radioSaturdayHalPm').on('change', function () {
    var SaturdayValue = 4;
    $("#Saturday_val").val(SaturdayValue);
    showanswer()
})
$('#radioSaturdayNoWork').on('change', function () {
    var SaturdayValue = 0;
    $("#Saturday_val").val(SaturdayValue);
    showanswer()
})
// END SATURDAY

// START showanswer()
function showanswer() {
    var Monday = $("#Monday_val").val();
    var Tuesday = $("#Tuesday_val").val();
    var Wednesday = $("#Wednesday_val").val();
    var Thursday = $("#Thursday_val").val();
    var Friday = $("#Friday_val").val();
    var Saturday = $("#Saturday_val").val();
    var total = parseInt(Monday) + parseInt(Tuesday) + parseInt(Wednesday) + parseInt(Thursday) + parseInt(Friday) + parseInt(Saturday);
    if (total > 40) {
        $(".STATUS").empty();
        $(".STATUS").append('<small class="badge badge-danger"><i class="fa fa-times"></i> LIMIT REACHED</small>');
    } else if (total < 24) {
        $(".STATUS").empty();
        $(".STATUS").append('<small class="badge badge-danger"><i class="fa fa-times"></i> INSUFFICIENT</small>');
    } else {
        $(".STATUS").empty();
        $(".STATUS").append('<small class="badge badge-success"><i class="fa fa-check"></i> PASSED</small>');
    }
    $("#credited_work_hours").text(total);
}
// END showanswer()



// Note: Schedule Tab computation => js/internview-schedule.js
$('#quickForm_schedule').on('submit', function (e) {
    e.preventDefault();
    var CreditedHours = $("#credited_work_hours").text();
    if (CreditedHours > 40) {
        $(".STATUS").empty();
        $(".STATUS").append('<small class="badge badge-danger"><i class="fa fa-times"></i> LIMIT REACHED</small>');
    } else if (CreditedHours < 24) {
        $(".STATUS").empty();
        $(".STATUS").append('<small class="badge badge-danger"><i class="fa fa-times"></i> INSUFFICIENT</small>');
    } else {
        $(".STATUS").empty();
        $(".STATUS").append('<small class="badge badge-success"><i class="fa fa-check"></i> PASSED</small>');
        Swal.fire({
            title: 'Are you sure?',
            text: "Check your schedule before submit",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirm'
        }).then((result) => {
            if (result.isConfirmed) {
                // var url = '<?= base_url() ?>Internview/update_schedule';
                var url = $('#quickForm_schedule').attr("action");

                // GET INPUT FIELD VALUE BY ID
                var id = $('.INF_USER_ID_INTR').val();
                var Mon = $('input[name=r0]:radio:checked').val();
                var Tue = $('input[name=r2]:radio:checked').val();
                var Wed = $('input[name=r3]:radio:checked').val();
                var Thu = $('input[name=r4]:radio:checked').val();
                var Fri = $('input[name=r5]:radio:checked').val();
                var Sat = $('input[name=r6]:radio:checked').val();
                var work_hour = $('#credited_work_hours').text();

                // PASS INPUT FIELD VALUE VARIABLE TO PARAMETER
                SAVE_SCHEDULE(url, id, Mon, Tue, Wed, Thu, Fri, Sat, work_hour).then(function ($result) {

                    // GET RETURN echo json_encode($result); FROM Internview(Controller)/update_schedule(Method)
                    if ($result.status == 'SUCCESS') {

                        // Sweet Alert SUCCESS
                        Swal.fire({
                            icon: 'success',
                            text: ' Update Information Successfully.',
                            title: 'Success !',
                            showConfirmButton: false,
                            timer: 1500
                        })

                        // Essay Tab Show
                        $('#essay-tab').removeClass('disabled');
                        $('#custom-tabs-four-tab a[href="#Essay"]').tab('show')
                    }
                })
            }
        })

        async function SAVE_SCHEDULE(url, id, Mon, Tue, Wed, Thu, Fri, Sat, work_hour) {

            // POST TO Internview/update_schedule 
            var formData = new FormData(quickForm_schedule);
            formData.append('ID', id);
            formData.append('MONDAY', Mon);
            formData.append('TUESDAY', Tue);
            formData.append('WEDNESDAY', Wed);
            formData.append('THURSDAY', Thu);
            formData.append('FRIDAY', Fri);
            formData.append('SATURDAY', Sat);
            formData.append('WORK_HOUR', work_hour);

            const response = await fetch(url, {
                method: 'POST',
                body: formData,
            })
            return response.json();
        }
    }
})